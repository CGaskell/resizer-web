<!DOCTYPE html>
%html(lang="en" class="no-js")
	%head
		%meta(charset="utf-8")
		%meta(http-equiv="X-UA-Compatible" content="IE=edge,chrome=1")
		- if @description
			%meta(name="description" content=@description)
		- if @keywords
			%meta(name="keywords" content=@keywords)
		%title
			= @title
			
		%meta(name="viewport" content="width=device-width, initial-scale=1.0")
		
		:plain
			<link rel="shortcut icon" href="/favicon.ico">
			<link rel="apple-touch-icon" href="/apple-touch-icon.png">
			<link rel="stylesheet" href="/css/1-reset.css?v=2">
			<link rel="stylesheet" href="/css/2-site.css?v=2">
			<link rel="stylesheet" href="/css/3-banners.css?v=2">
			<link rel="stylesheet" href="/css/main.css?v=2">
			<link rel="stylesheet" href="/js/highlight/styles/vs.css">
			<!--[if lt IE 9]>
			<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
			<![endif]-->
	
		= local_stylesheet_link_tag('local')

		%link(href="/articles.xml" rel="alternate" type="application/atom+xml")
		= haml :analytics, :layout => false
	%body
		%div.site-container
			= erubis :header, :layout => false
			%div.main
				= yield
			= erubis :footer, :layout => false
		:plain
			<script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
			<script>!window.jQuery && document.write(unescape('%3Cscript src="/js/jquery-1.5.2.min.js"%3E%3C/script%3E'))</script>
			<script src="http://cf.imageresizing.net/js/jquery.jshowoff.js"></script>
			<script src="http://cf.imageresizing.net/js/highlight/highlight.pack.js"></script>
			<script src="/js/script.js"></script>
		- if @page and @page.metadata("uservoice")
			:plain
				<script type="text/javascript">
				  (function() {
				    var uv = document.createElement('script'); uv.type = 'text/javascript'; uv.async = true;
				    uv.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'widget.uservoice.com/9Io2T4xq0vy769kPEKmJ0w.js';
				    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(uv, s);
				  })();
				</script>
		-if @page and @page.metadata("ejunkie")
			:plain
				<script src='http://www.e-junkie.com/ecom/box.js' type='text/javascript'></script>
		-if @page and @page.metadata("search")
			:plain
				<script src="http://www.google.com/jsapi" type="text/javascript"></script>
				<script type="text/javascript"> 
				  google.load('search', '1', {language : 'en', style : google.loader.themes.SHINY});
				  google.setOnLoadCallback(function() {
				    var customSearchControl = new google.search.CustomSearchControl('005556834036073640702:j3bnlceufnc');
				    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
				    customSearchControl.draw('cse');
				  }, true);
				</script>

